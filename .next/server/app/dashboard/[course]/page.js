(()=>{var e={};e.id=165,e.ids=[165],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6011:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(3958),t(4668),t(5866);var s=t(3191),r=t(8716),n=t(7922),i=t.n(n),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(a,l);let c=["",{children:["dashboard",{children:["[course]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3958)),"/Users/jtfinn/GitHub GT/Instructor_Deployable_JW/app/dashboard/[course]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,4668)),"/Users/jtfinn/GitHub GT/Instructor_Deployable_JW/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/jtfinn/GitHub GT/Instructor_Deployable_JW/app/dashboard/[course]/page.tsx"],u="/dashboard/[course]/page",f={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/[course]/page",pathname:"/dashboard/[course]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3300:(e,a,t)=>{Promise.resolve().then(t.bind(t,2701))},2701:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var s=t(326),r=t(7577),n=t(434),i=t(5047),o=t(772),l=t(2643),c=t(4432),d=t(2835),u=t(8091),f=t(3961);function m({params:e}){(0,i.useRouter)();let[a,t]=(0,r.useState)(null),[m,x]=(0,r.useState)(!0),[p,h]=(0,r.useState)(!1),[g,j]=(0,r.useState)(!1),[y,_]=(0,r.useState)(null),[N,b]=(0,r.useState)(null),v=(0,r.useRef)(null),w=async()=>{try{await (0,d.A)(a._id),h(!0)}catch(e){console.error("Error deleting course:",e)}},C=async()=>{try{let e=await (0,d.Hf)(a._id,y.config_file);t(e),_(JSON.parse(JSON.stringify(e))),j(!1)}catch(e){console.error("Error updating course:",e)}},P=(e,a)=>{_({...y,config_file:{...y.config_file,[a]:e.target.value}})},k=(e,a)=>{_({...y,config_file:{...y.config_file,metadata:{...y.config_file.metadata,[a]:e.target.value}}})},S=async()=>{if(N)try{await (0,d._M)(a._id,[N]);let e=await (0,d.XR)(a._id);t(e),_(JSON.parse(JSON.stringify(e))),b(null),v.current&&(v.current.value="")}catch(e){console.error("Error adding PDF:",e)}},T=async e=>{try{await (0,d.C3)(a._id,e);let s=await (0,d.XR)(a._id);t(s),_(JSON.parse(JSON.stringify(s)))}catch(e){console.error("Error deleting PDF:",e)}};return m?s.jsx("div",{children:"Loading..."}):a?(0,s.jsxs)("div",{className:"p-4 max-w-4xl mx-auto",children:[s.jsx(n.default,{href:"/dashboard",children:s.jsx(o.z,{className:"mb-4",children:"â† Back to Dashboard"})}),(0,s.jsxs)(l.Zb,{className:"mb-4",children:[s.jsx(l.Ol,{children:s.jsx(l.ll,{children:g?y.config_file.course_name:a.config_file.course_name})}),(0,s.jsxs)(l.aY,{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Name"}),g?s.jsx(c.I,{value:y.config_file.course_name,onChange:e=>P(e,"course_name")}):s.jsx("span",{className:"font-medium",children:a.config_file.course_name})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Number"}),g?s.jsx(c.I,{value:y.config_file.metadata.number,onChange:e=>k(e,"number")}):s.jsx("span",{className:"font-medium",children:a.config_file.metadata.number})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Term"}),g?s.jsx(c.I,{value:y.config_file.metadata.term,onChange:e=>k(e,"term")}):s.jsx("span",{className:"font-medium",children:a.config_file.metadata.term})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Organization"}),g?s.jsx(c.I,{value:y.config_file.metadata.organization,onChange:e=>k(e,"organization")}):s.jsx("span",{className:"font-medium",children:a.config_file.metadata.organization})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Start Date"}),g?s.jsx(c.I,{type:"date",value:y.config_file.metadata.start_date,onChange:e=>k(e,"start_date")}):s.jsx("span",{className:"font-medium",children:a.config_file.metadata.start_date})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"End Date"}),g?s.jsx(c.I,{type:"date",value:y.config_file.metadata.end_date,onChange:e=>k(e,"end_date")}):s.jsx("span",{className:"font-medium",children:a.config_file.metadata.end_date})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("span",{className:"font-medium",children:a.active?"Active":"Inactive"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Created"}),s.jsx("span",{className:"font-medium",children:new Date(a.creation_date).toLocaleDateString()})]})]}),s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Documents"}),s.jsx("ul",{className:"list-none pl-0 mb-6",children:(g?y:a).config_file.documents.map((e,a)=>(0,s.jsxs)("li",{className:"mb-2 flex items-center justify-between",children:[s.jsx("span",{children:e.name}),g&&s.jsx(o.z,{variant:"ghost",size:"sm",onClick:()=>T(e.name),children:s.jsx(u.Z,{className:"h-4 w-4 text-red-500"})})]},a))}),g&&(0,s.jsxs)("div",{className:"mb-4 flex items-center space-x-2",children:[s.jsx(c.I,{ref:v,type:"file",accept:".pdf",onChange:e=>b(e.target.files?.[0]||null),className:"flex-grow"}),(0,s.jsxs)(o.z,{onClick:S,disabled:!N,children:[s.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"Add PDF"]})]}),(0,s.jsxs)("div",{className:"flex flex-row space-x-5",children:[g?(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.z,{onClick:C,children:"Save Changes"}),s.jsx(o.z,{variant:"outline",onClick:()=>{_(JSON.parse(JSON.stringify(a))),j(!1)},children:"Cancel"})]}):s.jsx(o.z,{onClick:()=>{j(!0)},children:"Edit Course"}),s.jsx(o.z,{variant:"destructive",onClick:w,disabled:p||g,children:p?"Course Deleted":"Delete Course"})]})]})]})]}):null}},2643:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>o,Zb:()=>i,aY:()=>c,ll:()=>l});var s=t(326),r=t(7577),n=t(7863);let i=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...a}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));l.displayName="CardTitle",r.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},4432:(e,a,t)=>{"use strict";t.d(a,{I:()=>i});var s=t(326),r=t(7577),n=t(7863);let i=r.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Input"},2835:(e,a,t)=>{"use strict";t.d(a,{A:()=>f,C3:()=>d,Hf:()=>u,Ho:()=>i,P6:()=>l,XR:()=>o,_M:()=>c});let s=()=>process.env.NEXT_PUBLIC_API_URL?process.env.NEXT_PUBLIC_API_URL:"http://10.20.1.225:8000",r=(e,a)=>{if(401===e)throw Error("Unauthorized: Please log in again");if(404===e)throw Error("Resource not found");throw Error(a)},n=()=>{let e=localStorage.getItem("access_token");if(!e)throw Error("No access token found");return e};async function i(e){let a=n(),t=s(),i=`${t}/api/user-configs`;void 0!==e&&(i+=`?active=${e.toString()}`);let o=await fetch(i,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});return o.ok||r(o.status,"Failed to fetch courses"),o.json()}async function o(e){let a=n(),t=s(),i=await fetch(`${t}/api/config/${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});return i.ok||r(i.status,"Failed to fetch course"),i.json()}async function l(e){let a=n(),t=s(),i=await fetch(`${t}/api/create-config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(e)});return i.ok||r(i.status,"Failed to create course"),i.json()}async function c(e,a){let t=n(),i=s(),o=new FormData;a.forEach(e=>{o.append("files",e)});let l=await fetch(`${i}/api/add-documents/${e}`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:o});return l.ok||r(l.status,"Failed to add PDFs"),l.json()}async function d(e,a){let t=n(),i=s(),o=await fetch(`${i}/api/delete-document/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({document_name:a})});return o.ok||r(o.status,"Failed to delete PDF"),o.json()}async function u(e,a){let t=n(),i=s(),o=await fetch(`${i}/api/config/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(a)});return o.ok||r(o.status,"Failed to update course"),o.json()}async function f(e){let a=n(),t=s(),i=await fetch(`${t}/api/deactivate-config/${e}`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return i.ok||r(i.status,"Failed to delete course"),(await i.json()).message}},3961:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},8091:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3958:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/Users/jtfinn/GitHub GT/Instructor_Deployable_JW/app/dashboard/[course]/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[948,683,339,434,846],()=>t(6011));module.exports=s})();